<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../../style.css">
</head>

<body onload="colorizeTable()">

<h1>Приказы</h1>

<!-- Строка поиска -->
<input type="text" id="searchBox" placeholder="Введите текст для поиска..." width="50%">
&nbsp;
<dropdown width="10%">Фильтр по рангу
<select id="filterBox">
    <option value="">Все</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select>
</dropdown>

<table id="infoTable">
    <thead>
        <tr>
            <th>Название <img src="../../img/svg/filter.png" width="11px"></th>
            <th>Ранг <img src="../../img/svg/filter.png" width="11px"></th>
            <th>Дистанция</th>
            <th>Длительность</th>
        </tr>
    </thead>
    <tbody>
        <!--
        <tr data-details="details2">
            <td></td>
            <td class="rating">1</td>
            <td></td>
            <td></td>
        </tr>
        <tr class="details details2">
            <td colspan="4">
                <p></p>
                <p><b><i>На больших уровнях.</i></b> </p>
            </td>
        </tr>
        -->

        <tr data-details="details1">
            <td>Демотивация</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details1">
            <td colspan="4">
                <p>Своим напорным криком вы пытаетесь демотивировать до двух целей в пределах дистанции. Цели должны преуспеть в Спасброске Мудрости или получат штраф 1d4 ко всем своим броскам атаки, спасброскам и проверкам характеристик до конца действия приказа. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше. Этот эффект считается очарованием при учёте сопротивлений.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 3 цели, когда достигаете 5-ого уровня и 4 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details2">
            <td>Мотивация</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details2">
            <td colspan="4">
                <p>Своим блестящим примером вы мотивируете союзника в пределах дистанции (но не себя). Цель получает бонус 1d4 ко всем своим броскам атаки, спасброскам и проверкам характеристик до конца действия приказа. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details3">
            <td>Сконцентрироваться!</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>1 минута</td>
        </tr>
        <tr class="details details3">
            <td colspan="4">
                <p>Вы выкрикиваете чёткий, уверенный приказ, помогая союзнику преодолеть отвлекающие факторы. Выберите одно существо (но не себя), которое видите в пределах 60 футов. Цель получает преимущество на свой следующий спасбросок Интеллекта, Мудрости или Харизмы. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details4">
            <td>Держать строй!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details4">
            <td colspan="4">
                <p>Вы вселяете в союзников решимость держать позицию. Все дружественные существа (кроме вас) в радиусе 10 футов от выбранной точки получают бонус +1 ко всем своим броскам атаки, спасброскам и КД, пока находятся в указанной вами зоне.</p>
                <p><b><i>На больших уровнях.</i></b> Все бонусы увеличиваются до +2, когда вы достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details5">
            <td>Сконцентрировать огонь!</td>
            <td class="rating">1</td>
            <td>200 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details5">
            <td colspan="4">
                <p>Вы указываете на врага, чтобы ваша группа смогла сфокусировать на нём огонь. Один враг, которого вы видите в пределах 200 футов, становится "приоритетной целью" до начала вашего следующего хода. Все дружественные существа (кроме вас), которые атакуют эту цель, получают бонус +1 к броскам атаки. Помимо этого, стрельба по цели с расстояния, которое превышает нормальную дальность оружия, будет совершаться без помехи.</p>
                <p><b><i>На больших уровнях.</i></b> Бонус увеличивается до +2 на 5 уровне и до +3 на 9 уровне.</p>
            </td>
        </tr>

        <tr data-details="details6">
            <td>Стоять до конца!</td>
            <td class="rating">3</td>
            <td>120 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details6">
            <td colspan="4">
                <p>Своим превосходных руководством Вы внушаете союзнику, что он должен продолжать стоять на ногах и сражаться, невзирая на любые трудности, с которыми может столкнуться солдат Федерации. До начала вашего следующего хода хиты выбранного союзника (но не вас) не могут опуститься ниже 1 в результате получения урона от любой атаки или техники. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
            </td>
        </tr>

        <tr data-details="details7">
            <td>Укрыться!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details7">
            <td colspan="4">
                <p>Вы отдаёте резкий приказ укрыться и держаться в безопасности. Выберите существо в пределах 90 футов (но не себя). Оно получает бонус +2 к КД и спасброскам Ловкости, а также любые техники и атаки, которые должны были нанести цели половину урона при успешном Спасброске или при промахе броска атаки, не нанесут урона вовсе. Существо теряет бонус, если сделает атаку, использует технику, требующую бросок атаки или совершения кем-либо Спасброска.</p>
                <p><b><i>На больших уровнях.</i></b> Бонус увеличивается до +4 начиная с 5-ого уровня и до +6 с 9-ого.</p>
            </td>
        </tr>

        <tr data-details="details8">
            <td>Подъём, солдат!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details8">
            <td colspan="4">
                <p>Вы с яростью приказываете павшему союзнику не сдаваться. Одно существо, находящееся без сознания и имеющее хотя бы один провал спасброска смерти, может немедленно совершить бросок спасброска смерти с преимуществом. Если он успешен — цель стабилизируется. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, цель восстанавливает 1 хит вместо обычной стабилизации.</p>
            </td>
        </tr>

        <tr data-details="details9">
            <td>Соберись!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details9">
            <td colspan="4">
                <p>Вы обращаетесь к союзнику с требованием прекратить страдать. Одно существо в пределах 90 футов (но не вы) может немедленно сбросить один из следующих эффектов на выбор: испуган, очарован или действие какого-либо приказа.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details10">
            <td>Разоружить</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details10">
            <td colspan="4">
                <p>Вы бросаете резкий приказ, способный сбить врага с толку и заставить его инстинктивно ослабить хватку на оружии. Одно существо в пределах 60 футов должно преуспеть в Спасброске Мудрости, иначе оно роняет одно удерживаемое в руках оружие или предмет. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, вы можете выбрать дополнительную цель в пределах дальности приказа, но не далее чем в 20 футах от основной цели.</p>
            </td>
        </tr>

        <tr data-details="details11">
            <td>Взять живым!</td>
            <td class="rating">1</td>
            <td>120 футов</td>
            <td>1 час</td>
        </tr>
        <tr class="details details11">
            <td colspan="4">
                <p>Вы отдаёте команду захватить цель без смертельного урона. Выберите одно существо в пределах 120 футов. На время действия приказа нападающие могут выбрать оглушение даже при атаке дальнобойным оружием, и такие атаки по этой цели не могут причинить критический урон.</p>
            </td>
        </tr>

        <tr data-details="details12">
            <td>Сменить позицию!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details12">
            <td colspan="4">
                <p>Вы быстро указываете направление отхода. Выберите одного союзника в пределах 90 футов (но не себя). Он может немедленно переместиться на половину своей скорости без провоцирования атак, но не более чем на 20 футов.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 5-ого уровня, союзник может переместиться на всю свою скорость без каких-либо дополнительных ограничений.</p>
            </td>
        </tr>

        <tr data-details="details13">
            <td>Пугающий жест</td>
            <td class="rating">2</td>
            <td>60 футов</td>
            <td>1 минута</td>
        </tr>
        <tr class="details details13">
            <td colspan="4">
                <p>Вы делаете крайне пугающий жест, дающий понять вашим врагам, что причинение вам вреда может заставить весь флот Федерации найти их и ликвидировать. Цель в пределах 60 футов должна пройти спасбросок Мудрости. При провале — цель считается испуганной вами до конца действия приказа. Цель может повторять спасбросок в конце каждого своего хода, оканчивая эффект при успехе. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, вы можете выбрать дополнительную цель в пределах дальности приказа, но не далее чем в 20 футах от основной цели.</p>
            </td>
        </tr>

        <tr data-details="details14">
            <td>Прикройте его!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details14">
            <td colspan="4">
                <p>Вы приказываете вашим союзникам прикрывать какое-либо конкретное союзное существо в пределах дистанции. До начала вашего следующего хода, когда против выбранного существа совершают бросок атаки или заставляют его совершить спасбросок - любое количество союзных существ, которые видят это, могут реакцией совершить 1 атаку удерживаемым в руках оружием по спровоцировавшему этот эффект существу.</p>
            </td>
        </tr>

        <tr data-details="details15">
            <td>Пошёл! Пошёл! Пошёл!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details15">
            <td colspan="4">
                <p>Вы приказываете выбранному союзнику заметно ускориться (но не себе). В начале своего следующего хода выбранный союзник будет находиться под эффектом действия "Рывок", но он при этом теряет возможность самостоятельно действием совершить ещё один "Рывок".</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, вы можете выбрать дополнительную цель в пределах дальности приказа, но не далее чем в 20 футах от основной цели.</p>
            </td>
        </tr>

        <tr data-details="details16">
            <td>Делегирование</td>
            <td class="rating">3</td>
            <td>60 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details16">
            <td colspan="4">
                <p>Вы приказываете выбранному союзнику в пределах дистанции незамедлительно действовать. Союзник может потратить свою реакцию и незамедлительно совершить одно из доступных ему <b>Действий</b> или бонусных действий. Этим действием может быть полноценная Атака, использование техники, инструментов или предмета. В качестве альтернативы без траты реакции союзник может переместиться на свою скорость.</p>
            </td>
        </tr>

        <tr data-details="details17">
            <td>Устранить!</td>
            <td class="rating">1</td>
            <td>120 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details17">
            <td colspan="4">
                <p>Вы приказываете вашим союзникам устранить выбранную цель. До начала вашего следующего хода каждый раз, когда любой союзник (но не вы) совершает успешный бросок атаки против выбранной цели - он наносит дополнительные 1d4 урона.</p>
                <p><b><i>На больших уровнях.</i></b> Урон увеличивается до 1d6 на 5 уровне и до 1d8 на 9 уровне.</p>
            </td>
        </tr>

        <tr data-details="details21">
            <td>Психологический натиск</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details21">
            <td colspan="4">
                <p>Вы выбираете одно враждебное существо. Оно должно преуспеть в спасброске Харизмы. В случае провала оно в течении 2 раундов получает помеху на атаки против всех, кроме вас. Этот эффект считается испугом при учёте сопротивлений.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details18">
            <td>Отвлечение</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details18">
            <td colspan="4">
                <p>Вы можете выбрать одно существо в пределах дистанции и привлечь его внимание. В этом случае цель теряет свою реакцию.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details19">
            <td>Прыгнись!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details19">
            <td colspan="4">
                <p>Вы приказываете своему союзнику прыгнуться, чтобы он получил все эффекты, которые даёт действие <b>"Уклонение"</b>.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, вы можете выбрать дополнительную цель в пределах дальности приказа, но не далее чем в 20 футах от основной цели.</p>
            </td>
        </tr>

        <tr data-details="details20">
            <td>Ни шагу назад!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details20">
            <td colspan="4">
                <p>Вы приказываете союзникам удерживать свою позицию всеми силами. Все дружественные существа (кроме вас) в радиусе 10 футов от выбранной точки могут восстановить количество щита, равное вашему удвоенному модификатору Харизмы (не менее 2). Также, до начала вашего следующего хода союзники, находящиеся в зоне, не могут быть отброшены, повалены или перемещены против своей воли (они также автоматически проходят все спасброски, целью которых является сделать это).</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня область действия приказа увеличивается до 15-футового радиуса.</p>
            </td>
        </tr>

        <tr data-details="details22">
            <td>Зачистить сектор!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details22">
            <td colspan="4">
                <p>Выберите область радиусом в 15 футов. Когда любой союзник (кроме вас) совершает бросок атаки по цели в области и промахивается, один раз за ход он может повторить бросок атаки, выбрав любую другую цель в этой области. Другая цель должна находится в области действия вашего оружия.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня область действия приказа увеличивается до 20-футового радиуса.</p>
            </td>
        </tr>

        <tr data-details="details23">
            <td>Сменить конфигурацию!</td>
            <td class="rating">2</td>
            <td>60 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details23">
            <td colspan="4">
                <p>До двух союзников по вашему выбору, находящися на расстонии до 20 футов между собой, могут немедленно поменяться местами. Это перемещение не провоцирует атак и не требует действий.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня расстояние между союзниками становится ограничено скоростью более медленного из них.</p>
            </td>
        </tr>

        <tr data-details="details24">
            <td>Плотная оборона!</td>
            <td class="rating">2</td>
            <td>60 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details24">
            <td colspan="4">
                <p>Два видимых союзника получают +3 к КД, спасброскам Ловкости и Силы до начала вашего следующего хода, пока они находятся в пределах 10 футов друг от друга.</p>
                <p><b><i>На больших уровнях.</i></b> Бонус увеличивается до +4 начиная с 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details25">
            <td>Огневая поддержка!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details25">
            <td colspan="4">
                <p>Выберите союзника в пределах радиуса приказа. Когда он совершает бросок атаки, один другой ваш союзник реакцией может также совершить бросок атаки удерживаемым оружием по этой цели, получив бонус к броску, равный вашему модификатору Харизмы.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, огневую поддержку могут оказать 2 любых союзника вместо одного.</p>
            </td>
        </tr>

        <tr data-details="details26">
            <td>Полный приоритет!</td>
            <td class="rating">3</td>
            <td>120 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details26">
            <td colspan="4">
                <p>Вы указываете одного приоритетного врага. До начала вашего следующего хода первая успешная атака по этой цели, нанесенная вашим союзником (но не вами), станет критической.</p>
            </td>
        </tr>

        <tr data-details="details27">
            <td>Кто тут главный?</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details27">
            <td colspan="4">
                <p>Один враг должен пройти спасбросок Харизмы. В случае провала он получит помеху на атаки по вам до конца действия приказа. Этот эффект считается испугом при учёте сопротивлений. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 5-ого уровня и 3 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details28">
            <td>Скройся!</td>
            <td class="rating">2</td>
            <td>90 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details28">
            <td colspan="4">
                <p>Вы приказываете вашему союзнику (но не себе) скрыться из виду, чтобы лучше оценить тактические перспективы. Существо немедленно может попытаться уйти в <b>"Засаду"</b> (никаких действий не требуется), но только если оно не находится в прямой видимости у любого враждебного существа.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня, существо может совершить бросок Ловкости (Скрытность) для совершения Засады с преимуществом.</p>
            </td>
        </tr>

        <tr data-details="details29">
            <td>Отчёт по ситуации!</td>
            <td class="rating">1</td>
            <td>60 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details29">
            <td colspan="4">
                <p>Один союзник (но не вы) может немедленно совершить проверку Интеллекта (например, Анализ, Техника) или Мудрости (Внимание, Медицина, Проницательность) как реакцию, получая бонус в размере вашего модификатора Харизмы.</p>
                <p><b><i>На больших уровнях.</i></b> Начиная с 9-ого уровня союзник может совершить этот бросок свободным действием, не тратя реакцию.</p>
            </td>
        </tr>

        <tr data-details="details30">
            <td>Перегруппироваться!</td>
            <td class="rating">3</td>
            <td>90 футов</td>
            <td>Мгновенная</td>
        </tr>
        <tr class="details details30">
            <td colspan="4">
                <p>До пяти союзников по вашему выбору в пределах дистанции могут переместиться на 15 футов (действий не требуется). В этом случае они не спровоцируют атак.</p>
            </td>
        </tr>

        <tr data-details="details31">
            <td>Протокол 66</td>
            <td class="rating">3</td>
            <td>90 футов</td>
            <td>2 раунда</td>
        </tr>
        <tr class="details details31">
            <td colspan="4">
                <p><i>"Стоило этому офицеру только посмотреть на того террориста, как у того будто вмиг пропал дар речи. Да и в целом он стал... менее ретивым..."</i></p>
                <p>Выберите одного врага в пределах дистанции. Он должен совершить спасбросок Мудрости. В случае провала этот враг на время действия приказа теряет возможность использовать Легендарные действия, легендарные сопротивления, возможность говорить, использовать приказы, перезаряжать умения по броску d6 и совершать реакции.</p>
            </td>
        </tr>

        <tr data-details="details32">
            <td>Остановись!</td>
            <td class="rating">1</td>
            <td>90 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details32">
            <td colspan="4">
                <p>Цель должна пройти спасбросок Харизмы или не сможет перемещаться до конца своего следующего хода. Этот эффект считается испугом при учёте сопротивлений. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
                <p><b><i>На больших уровнях.</i></b> Вы можете выбрать 2 цели, когда достигаете 9-ого уровня.</p>
            </td>
        </tr>

        <tr data-details="details33">
            <td>Вы окружены!</td>
            <td class="rating">2</td>
            <td>60 футов</td>
            <td>1 раунд</td>
        </tr>
        <tr class="details details33">
            <td colspan="4">
                <p>Вы, обманом или нет, пытаетесь убедить все цели в сфере радиусом 15 футов, что они окружены. Существа в этой области должны совершить спасбросок Мудрости. В случае провала, цели перестают получать бонус от укрытий, так как начинают слишком много озираться по сторонам в поиске врагов. Если для кого-либо из ваших союзников одна из целей не находится в укрытии - ваш союзник получает бонус к попаданию, равный вашему модификатору Харизмы. Этот эффект считается испугом при учёте сопротивлений. Этот приказ не оказывает никакого эффекта на роботов и прочих неживых существ, а также на существ с Интеллектом 3 или меньше.</p>
            </td>
        </tr>

        <tr data-details="details34">
            <td>Лишить надежды</td>
            <td class="rating">3</td>
            <td>60 футов</td>
            <td>Без ограничений</td>
        </tr>
        <tr class="details details34">
            <td colspan="4">
                <p>Вы пытаетесь убедить цель в обречённости её ситуации. Цель должна совершить спасбросок Харизмы. В случае провала следующий совершенный целью спасбросок будет автоматически провален.</p>
            </td>
        </tr>
    </tbody>
</table>

<script>
    function colorizeTable() {
            var table = document.getElementById("infoTable");
            var rows = table.getElementsByTagName("tr");
            var a = 0;
            for (var i = 0; i < rows.length; i++) {
                if (rows[i].className.startsWith("details det")) continue;
                if(rows[i].style.display === "none") continue;
                if (a % 2 == 0) {
                    rows[i].style.backgroundColor = "#fff";
                } else {
                    rows[i].style.backgroundColor = "#96ade9";
                }
                a++;
            }
        }
    // Функция для сортировки таблицы по выбранной колонке
    function sortTable(n, ascending = true) {
        const rows = Array.from(document.querySelectorAll("tbody tr:not(.details)"));
        
        rows.sort((rowA, rowB) => {
            let valueA = rowA.cells[n].textContent.trim();
            let valueB = rowB.cells[n].textContent.trim();

            // Преобразуем в числа для оценки
            if (n === 1) {
                valueA = parseInt(valueA);
                valueB = parseInt(valueB);
            }

            if (ascending) {
                return valueA > valueB ? 1 : valueA < valueB ? -1 : 0;
            } else {
                return valueA < valueB ? 1 : valueA > valueB ? -1 : 0;
            }
        });

        // Перемещаем строки в tbody
        const tbody = document.querySelector("tbody");
        rows.forEach(row => {
            tbody.appendChild(row);  // Перемещаем строки на новые позиции
            const detailsRow = document.querySelector(`.details.${row.getAttribute('data-details')}`);
            if (detailsRow) {
                tbody.appendChild(detailsRow);  // Перемещаем строку с деталями рядом
            }
            colorizeTable();
        });

        // Обновляем обработчики кликов после сортировки
        addRowClickEvent();
        colorizeTable();
    }

    // Добавляем возможность сортировать по первой и второй колонке
    const headerCells = document.querySelectorAll("th");
    headerCells[0].addEventListener("click", () => {
        const isAscending = headerCells[0].getAttribute("data-sort") === "asc";
        sortTable(0, isAscending);
        headerCells[0].setAttribute("data-sort", isAscending ? "desc" : "asc");
        colorizeTable();
    });  // Сортировка по первой колонке (название)

    headerCells[1].addEventListener("click", () => {
        const isAscending = headerCells[1].getAttribute("data-sort") === "asc";
        sortTable(1, isAscending);
        headerCells[1].setAttribute("data-sort", isAscending ? "desc" : "asc");
        colorizeTable();
    });  // Сортировка по второй колонке (оценка)

    // Фильтрация таблицы по выбранному значению в фильтре
    const filterBox = document.getElementById("filterBox");
    filterBox.addEventListener("change", function() {
        const selectedValue = filterBox.value;

        const rows = document.querySelectorAll("tbody tr");
        rows.forEach(row => {
            const rating = row.querySelector(".rating") ? row.querySelector(".rating").textContent : null;

            // Показываем только те строки, чья оценка соответствует выбранной
            if (rating !== null && (selectedValue === "" || rating === selectedValue)) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        });
        colorizeTable();
    });

    // Обработчик кликов по строкам таблицы для раскрытия информации
    function addRowClickEvent() {
        const rows = document.querySelectorAll("tbody tr:not(.details)");
        rows.forEach(row => {
            row.removeEventListener('click', toggleDetails); // Удаляем старый обработчик
            row.addEventListener('click', toggleDetails); // Добавляем новый обработчик
        });
        colorizeTable();
    }

    // Функция для отображения или скрытия дополнительной информации
    function toggleDetails(event) {
        const detailsRowClass = event.target.closest('tr').getAttribute('data-details'); // Получаем класс для строки с деталями
        const detailsRow = document.querySelector(`.details.${detailsRowClass}`);
        
        if (detailsRow) {
            // Переключаем видимость строки с дополнительной информацией
            detailsRow.style.display = (detailsRow.style.display === "none" || detailsRow.style.display === "") ? "table-row" : "none";
        }
        colorizeTable();
    }

    function searchTable() {
    const searchQuery = document.getElementById('searchBox').value.toLowerCase();
    const selectedRating = document.getElementById('filterBox').value;

    const rows = document.querySelectorAll("tbody tr:not(.details)");

    rows.forEach(row => {
        const rowText = row.textContent.toLowerCase(); // Весь текст строки
        const ratingText = row.cells[1].textContent.trim(); // Вторая колонка (оценка)
        const detailsRow = document.querySelector(`.details.${row.getAttribute('data-details')}`);

        // Проверяем соответствие поиску (по всей строке) и фильтру (по второй колонке)
        const matchesSearch = rowText.includes(searchQuery);
        const matchesFilter = selectedRating === "" || ratingText === selectedRating;

        if (matchesSearch && matchesFilter) {
            row.style.display = "";
            if (detailsRow) detailsRow.style.display = ""; // Показываем строку с деталями
        } else {
            row.style.display = "none";
            if (detailsRow) detailsRow.style.display = "none"; // Скрываем строку с деталями
        }
    });
    colorizeTable();
}

// Добавляем обработчики событий для поля поиска и фильтра
document.getElementById('searchBox').addEventListener('input', searchTable);
document.getElementById('filterBox').addEventListener('change', searchTable);

    // Инициализация обработчиков кликов при загрузке страницы
    addRowClickEvent();
    colorizeTable();

</script>

</body>
</html>